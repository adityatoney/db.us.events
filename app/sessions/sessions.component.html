<RadSideDrawer #drawer showOverNavigation="true" [drawerTransition]="sideDrawerTransition">
	<StackLayout tkDrawerContent>
		<MyDrawer [selectedPage]="selectedPageTitle"></MyDrawer>
	</StackLayout>

	<StackLayout tkMainContent (loaded)="load()">
		<AbsoluteLayout>
			<GridLayout rows="auto, *" class="full-screen" (swipe)="onSwipe($event)">
				<GridLayout>
					
					<StackLayout>
						<GridLayout class="action-bar-sessions" [visibility]="showSearchBar ? 'collapse' : 'visible' ">
							<GridLayout class="action-wrap" (tap)="onDrawerButtonTap()" columns="auto" horizontalAlignment="left">

								<StackLayout #myMenuBtn class="menu-button">
									<Label #myMenuBtnBar1 class="bar bar1"></Label>
									<Label #myMenuBtnBar2 class="bar bar2"></Label>
									<Label #myMenuBtnBar3 class="bar bar3"></Label>
								</StackLayout>

							</GridLayout>
							<Label [text]="actionBarTitle" class="action-bar-title"></Label>
							<StackLayout (tap)="searcIconTapped()" orientation="horizontal" class="action-wrap" horizontalAlignment="right">
								<Image stretch="none" class="icon-image" src="res://ic_search_white"></Image>
							</StackLayout>
						</GridLayout>
						
						<GridLayout class="action-bar-search" [visibility]="showSearchBar ? 'visible' : 'collapse' ">
							<StackLayout orientation="horizontal" style="padding-left: 15" >
								<Image (tap)="hideSearchBar()" stretch="none" class="icon-image" src="res://ic_arrow_back"></Image>
								<!-- SearchBar doesn't fire clear event when using ngModel on iOS. Known issue: #1099 -->
								<SearchBar #searchBar id="searchBar" [text]="search" hint="Search" class="search" margin="5"
									(textChange)="onSearchBarTextChanged($event)" 
									(clear)="onSearchBarClear($event)" 
									textFieldBackgroundColor="white">
								</SearchBar>
							</StackLayout>
						</GridLayout>
						

						<StackLayout [visibility]="isSessionsPage ? 'visible' : 'collapse' ">
							<GridLayout rows="" columns="">
								<ScrollView id="scrollView" orientation="horizontal" class="scrollViewStyle" ios.showsHorizontalScrollIndicator="false">
									<!-- While using ngFor directive inside the ScrollView, you need to have one main container, which will contain all element generated by the ngFor. 
									The ScrollView will then measure the correct height for the scrollable part of the component. Without this, it only displays the last item in the list.-->
									<StackLayout orientation="horizontal">
										<StackLayout *ngFor="let item of confDayOptions; let i = index;" orientation="horizontal">
											<GridLayout (tap)="selectedIndexChange(item)" columns="*" rows="*,auto" [class]="item.isSelected ? 'dayScrollViewSelectedStyle' : 'dayScrollViewStyle'">
												<label [text]="item.title" col="0" row="0" stretch="none" horizontalAlignment="center" verticalAlignment="center" style="color:black;"></label>
												<GridLayout col="0" row="1" [class]="item.isSelected ? 'daySelectedScrollViewBottomBorder' : 'dayScrollViewBottomBorder'"></GridLayout>
											</GridLayout>
										</StackLayout>
									</StackLayout>
								</ScrollView>
							</GridLayout>
						</StackLayout>
					</StackLayout>
				</GridLayout>

				<!-- Session List -->
				<GridLayout rows="auto, *" row="1">
					<session-list (notifySessionSelected)="sessionSelected($event)" [sessionCardVisible]="sessionCardVisible" [selectedViewIndex]="selectedViewIndex"
					 [selectedIndex]="selectedIndex"></session-list>
				</GridLayout>

			</GridLayout>

			<GridLayout *ngIf="selectedSession" class="full-screen darker" (tap)="hideSessionCard()">
				<GridLayout #sessionCardWrapper (loaded)="selectedSessionCardLoaded(sessionCardWrapper)">
					<session-modal [session]="selectedSession" (notifyCardClosed)="hideSessionCard($event)"> </session-modal>
				</GridLayout>
			</GridLayout>

		</AbsoluteLayout>
	</StackLayout>
</RadSideDrawer>